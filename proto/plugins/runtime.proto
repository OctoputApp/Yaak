syntax = "proto3";

package yaak.plugins.runtime;

service PluginRuntime {
  rpc hookImport (HookImportRequest) returns (HookResponse);
  rpc hookResponseFilter (HookResponseFilterRequest) returns (HookResponse);
  rpc hookExport (HookExportRequest) returns (HookResponse);
}

message PluginInfo {
  string plugin = 1;
}

message HookResponse {
  PluginInfo info = 1;
  string data = 2;
}

message HookImportRequest {
  string data = 1;
}

message HookResponseFilterRequest {
  string filter = 1;
  string body = 2;
  string contentType = 3;
}

message HookExportRequest {
  string request = 1;
}
