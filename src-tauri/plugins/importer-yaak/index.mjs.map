{"version":3,"file":"index.mjs","sources":["../../../plugins/importer-yaak/src/index.ts"],"sourcesContent":["export function pluginHookImport(ctx: any, contents: string) {\n  let parsed;\n  try {\n    parsed = JSON.parse(contents);\n  } catch (err) {\n    return undefined;\n  }\n\n  if (!isJSObject(parsed)) {\n    return undefined;\n  }\n\n  const isYaakExport = 'yaakSchema' in parsed;\n  if (!isYaakExport) {\n    return;\n  }\n\n  // Migrate v1 to v2 -- changes requests to httpRequests\n  if ('requests' in parsed.resources) {\n    parsed.resources.httpRequests = parsed.resources.requests;\n    delete parsed.resources['requests'];\n  }\n\n  return { resources: parsed.resources }; // Should already be in the correct format\n}\n\nexport function isJSObject(obj: any) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n"],"names":["pluginHookImport","ctx","contents","parsed","isJSObject","obj"],"mappings":"AAAgB,SAAAA,EAAiBC,GAAUC,GAAkB;AACvD,MAAAC;AACA,MAAA;AACO,IAAAA,IAAA,KAAK,MAAMD,CAAQ;AAAA,UAChB;AACL;AAAA,EACT;AAOA,MALI,GAACE,EAAWD,CAAM,KAKlB,EADiB,gBAAgBA;AAMjC,WAAA,cAAcA,EAAO,cAChBA,EAAA,UAAU,eAAeA,EAAO,UAAU,UAC1C,OAAAA,EAAO,UAAU,WAGnB,EAAE,WAAWA,EAAO;AAC7B;AAEO,SAASC,EAAWC,GAAU;AACnC,SAAO,OAAO,UAAU,SAAS,KAAKA,CAAG,MAAM;AACjD;"}